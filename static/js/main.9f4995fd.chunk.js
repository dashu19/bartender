(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(4),s=t.n(i),c=(t(15),t(1)),l=t.n(c),o=t(2),d=t(5),u=t(7),p=t(6),g=t(8),f=(t(17),function(e){function n(e){var t;return Object(d.a)(this,n),(t=Object(u.a)(this,Object(p.a)(n).call(this,e))).getDrinkLinks=Object(o.a)(l.a.mark(function e(){var n,a,r,i,s,c,o,d,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a="https://en.wikipedia.org/w/api.php?action=parse&pageid=8702622&origin=*&prop=wikitext&format=json&section=",r=["2","3","4"],i=0;case 4:if(!(i<3)){e.next=17;break}return e.next=7,fetch(a+r[i]);case 7:return s=e.sent,e.next=10,s.json();case 10:for(c=e.sent,o=c.parse.wikitext["*"],d=t.parseList(o),u=0;u<d.length;u++)n.push(d[u]);case 14:i++,e.next=4;break;case 17:t.setState({drinklinks:n}),t.setState({initial:!1});case 19:case"end":return e.stop()}},e)})),t.parseList=function(e){var n=e;n=(n=(n=(n=(n=n.slice(n.indexOf("*"))).slice(1,n.indexOf("\n{{"))).replace(/]/g,"")).replace(/[[]/g,"")).split("\n*");for(var t=0;t<n.length;t++)n[t]=n[t].trim(),n[t]=n[t].split("|");return n},t.getDrinkInfo=function(){var e=Object(o.a)(l.a.mark(function e(n){var a,r,i,s,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://en.wikipedia.org/w/api.php?action=parse&origin=*&prop=wikitext&redirects=true&format=json&page=",a=t.state.drinklinks[n],r="https://en.wikipedia.org/w/api.php?action=parse&origin=*&prop=wikitext&redirects=true&format=json&page="+a[0],e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:s=e.sent,c=t.parseInfobox(s.parse.wikitext["*"],a[a.length-1]),t.setState({name:c.name}),t.setState({served:c.served}),t.setState({garnish:c.garnish}),t.setState({drinkware:c.drinkware}),t.setState({ingredients:c.ingredients}),t.setState({prep:c.prep}),console.log(n,c.drinkware);case 17:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.parseInfobox=function(e,n){var t={},a=e;if((a.match(/nfobox/g)||[]).length>1)for(var r=!0;r;)(a=a.slice(a.indexOf("nfobox")+6)).indexOf("\n}}\n")>a.indexOf(n)&&(r=!1);else a=a.slice(a.indexOf("nfobox")+6);a=(a=(a=a.slice(0,a.indexOf("\n}}\n"))).replace(/\* /g,"*")).split("\n|");for(var i=0;i<a.length;i++){a[i]=a[i].trim();for(var s=-50,c=-50,l=-50;a[i].includes("[[");)s=a[i].indexOf("[["),c=a[i].indexOf("|"),l=a[i].indexOf("]]"),s<c&&c<l&&(a[i]=a[i].slice(0,s+2)+a[i].slice(c+1)),a[i]=a[i].replace("[[",""),a[i]=a[i].replace("]]","");for(var o=-50,d=-50;a[i].includes("{{");)o=a[i].indexOf("{{"),d=a[i].indexOf("}}"),a[i]=a[i].slice(0,o)+a[i].slice(d+2);for(var u=-50,p=-50;a[i].includes("<");)u=a[i].indexOf("<"),p=a[i].indexOf(">"),a[i]=a[i].slice(0,u)+a[i].slice(p+1);a[i]=a[i].split("=");for(var g=0;g<a[i].length;g++)a[i][g]=a[i][g].trim();if("name"===a[i][0])t.name=a[i][1];else if("served"===a[i][0])t.served=a[i][1];else if("garnish"===a[i][0])t.garnish=a[i][1];else if("drinkware"===a[i][0])t.drinkware=a[i][1];else if("ingredients"===a[i][0]){var f=a[i][1].replace(/[*]/g,"");t.ingredients=f.split("\n")}else"prep"===a[i][0]&&(t.prep=a[i][1])}return t},t.getDrink=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDrinkInfo(Math.floor(Math.random()*t.state.drinklinks.length));case 2:return e.next=4,t.setState({clicked:!0});case 4:console.log("end of getDrink");case 5:case"end":return e.stop()}},e)})),t.generateButton=function(){var e=t.state.clicked?"Another":"Surprise";return r.a.createElement("div",{className:"Bartender-header"},r.a.createElement("button",{className:"Bartender-button",onClick:function(){return t.getDrink()}},e))},t.generateServed=function(){var e=t.state.served,n={straight:"Straight, without ice",rocks:"On the rocks",blended:"Blended with ice"};return e in n&&(e=n[e]),e},t.generateDrinkwareImage=function(){var e=t.state.drinkware,n="";return e in{cocktail:"",poco:"",hurricane:"",winew:"",collins:"",highball:"",shot:"",margarita:"",flute:"",coffee:"",old:""}&&(n=e+".png"),r.a.createElement("img",{className:"Bartender-image",src:n,alt:"dummyalt"})},t.generateDrinkwareText=function(){var e={cocktail:"Cocktail glass",poco:"Poco grande glass",hurricane:" Hurricane glass",winew:"Wine glass",collins:"Collins glass",highball:"Highball glass",shot:"Shot glass",margarita:"Margarita glass",flute:"Champagne flute",coffee:"Irish coffee mug",old:"Old fashioned glass"},n=t.state.drinkware;return n in e&&(n=e[n]),n},t.generateIngredients=function(){for(var e=[],n=0;n<t.state.ingredients.length;n++)e.push(r.a.createElement("li",{key:t.state.ingredients[n]},t.state.ingredients[n]));return r.a.createElement("ul",{className:"Bartender-ingredientslist"},e)},t.generateGarnish=function(){return""===t.state.garnish?r.a.createElement("span",null):r.a.createElement("span",null,r.a.createElement("span",{className:"Bartender-sectionheader"},"Garnish: "),r.a.createElement("span",{className:"Bartender-sectiontext"},t.state.garnish),r.a.createElement("br",null),r.a.createElement("br",null))},t.generateContentText=function(){return r.a.createElement("div",{className:"Bartender-contenttext"},t.generateDrinkwareImage(),r.a.createElement("span",{className:"Bartender-sectionheader"},"Drinkware: "),r.a.createElement("span",{className:"Bartender-sectiontext"},t.generateDrinkwareText()),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"Bartender-sectionheader"},"Served: "),r.a.createElement("span",{className:"Bartender-sectiontext"},t.generateServed()),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"Bartender-sectionheader"},"Ingredients:"),t.generateIngredients(),t.generateGarnish(),r.a.createElement("span",{className:"Bartender-sectionheader"},"Preparation:"),r.a.createElement("br",null),r.a.createElement("span",{className:"Bartender-preptext"},t.state.prep))},t.generateContent=function(){return!1===t.state.clicked?r.a.createElement("div",null):r.a.createElement("div",{className:"Bartender-content"},r.a.createElement("div",{className:"Bartender-title"},t.state.name),t.generateContentText())},t.componentDidMount=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDrinkLinks();case 2:console.log("endofdidmount");case 3:case"end":return e.stop()}},e)})),t.componentDidUpdate=function(){},t.render=function(){return r.a.createElement("div",null,t.generateButton(),t.generateContent())},t.state={initial:!0,clicked:!1,drinklinks:[],drink:null,name:null,served:null,garnish:null,drinkware:null,ingredients:null,prep:null,timing:null},t}return Object(g.a)(n,e),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,n,t){e.exports=t(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.9f4995fd.chunk.js.map